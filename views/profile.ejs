<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hoverable Sidebar Menu HTML CSS & JavaScript</title>
    <link rel="stylesheet" href="/styles/style.css" />
    <link rel="stylesheet" href="/styles/index.css" />
    <link rel="stylesheet" href="/styles/profile.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.js"></script>
  </head>
  <body>
  </head>
<body>
  <nav class="sidebar">
    <div class="logo_items flex">
      <span class="nav_image">
        <img src="/images/logo.png" alt="logo_img" />
      </span>
      <span class="logo_name">Appraisal</span>
    </div>

    <div class="menu_container">
      <div class="menu_items">
        <ul class="menu_item">
          <li class="item">
            <a href="#" class="link flex">
              <!-- <span class="icon">SD-1</span> -->
              <span>1. Academic Involvement</span>
            </a>
          </li>
          <li class="item">
            <a href="/studBucket1" class="link flex">
              <!-- <span class="icon">SD-2</span> -->
              <span>2. Student Development</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <!-- <span class="icon">SD-3</span> -->
              <span>3. Administrative Bucket</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <!-- <span class="icon">SD-4</span> -->
              <span>4. Research Bucket</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <!-- <span class="icon">SD-5</span> -->
              <span>5. Consultancy and Corporate Training Bucket</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <!-- <span class="icon">SD-5</span> -->
              <span>6. Product Development Bucket</span>
            </a>
          </li>
        </ul>
      </div>

      <div class="sidebar_profile flex">
        <div class="user-details">
          <span class="nav_image">
            <img src="/images/profile.png" alt="logo_img" />
          </span>
          <div class="data_text">
            <% if(locals){%>
              <span class="name"><%= name %></span>
            <span class="email"><%= email %></span>
            <% } %>
          </div>
        </div>
        <div class="user-logout">
          <i class="fa-solid fa-right-from-bracket fa-2x"></i>
          <a href="/logout">Logout</a>
        </div>
      </div>
    </div>
  </nav>

  <nav>
    <div class="navbar">
      <div class="bar-icon">
        <i class="fa-solid fa-bars" onclick="toggleSidebar()"></i>
      </div>

      <div class="nav-items">
        <div class="home nav-items"><a href="/index">Home</a></div>
      <div class="profile nav-items"><a href="/profile">Profile</a></div>
      <div class="profile-img nav-items"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSzBXNuO6PezhC18aYH_2cYtS0I7KbxoKYdwA&usqp=CAU" onclick="toggleMenu()"></div>
      </div>

      <div class="sub-menu-wrap" id="subMenu">
        <div class="sub-menu">
          <div class="user-info">
            <img src="/images/user.png">
            <% if(locals){%>
              <h3><%= name %></h3>
              <% } %>
          </div>
          <hr>
          <a href="profile" class="sub-menu-link">
            <img src="/images/profile.jpg">
            <p>Edit Profile</p>
            <span>></span>
          </a>

          <a href="profile" class="sub-menu-link">
            <img src="/images/setting.png">
            <p>Settings</p>
            <span>></span>
          </a>

          <a href="/logout" class="sub-menu-link">
            <img src="/images/logout.png">
            <p>Log Out</p>
            <span>></span>
          </a>
        </div>
      </div>
    </div>
  </nav>
  <main class="main-container">
    <div class="main-title">
      <h2>PROFILE</h2>
    </div>
    <div class="details">
      

      <div class="details-card">
        <!-- <img class="details-card-photo" src="images/profile1.jpg" alt="logo_img"/ > -->
    

        <div class="details-card-content">

          <div class="details-card-content-info">
            <div class=" info-child1 name"> <h2>NAME</h2> </div>
            <div class=" info-child2 name-ans"><h2><%= name %></h2></div>
          </div>
          <div class="details-card-content-info">
            <div class="info-child1 employeecode"> <h2>EMPLOYEE CODE</h2> </div>
            <div class=" info-child2 employeecode-ans"><h2><%= employeeCode %></h2></div>
          </div>
          <div class="details-card-content-info">
            <div class="info-child1 department"> <h2>DEPARTMENT</h2> </div>
            <div class=" info-child2 department-ans"><h2><%= department %></h2></div>
          </div>
          <div class="details-card-content-info">
            <div class="info-child1 designation"> <h2>DESIGNATION</h2> </div>
            <div class=" info-child2 designation-ans"><h2><%= designation %></h2></div>
          </div>
        
        </div>

      </div>

      <div class="details-buckets">
        <div class="bucketRow1">
          <div class="bucket sd1"><h2>Academic Involvement</h2><p>Score:</p></div>
          <div class="bucket sd2"><a href="/profile/studentBuckets"><h2>Student Development</h2><p>Score:</p></a></div>
          <div class="bucket sd3"><h2>Administrative Bucket</h2><p>Score:</p></div>
        </div>

        <div class="bucketRow2">
          <div class="bucket sd4"><h2>Research Bucket</h2><p>Score: </p></div>
          <div class="bucket sd5"><h2>Consultancy and Corporate Training Bucket</h2><p>Score:</p></div>
          <div class="bucket sd6"><h2>Product Development Bucket</h2><p>Score:</p></div>
        </div>

      </div>

      <div class="print">
      <button type="button" class="print-button" id="printButton">
        <h3>PRINT</h3>
      </button>
    </div>
    </div>
  </main>



 

  <script>
    let subMenu = document.getElementById("subMenu");
    let sidebar = document.querySelector('.sidebar');
    let classIcon = document.querySelector('.bar-icon');
    let buckets = document.querySelector('.buckets');
    let formContainer = document.querySelector('.form-container');

    function toggleMenu() {
      subMenu.classList.toggle("open-menu");
    }

    function toggleSidebar() {
      sidebar.classList.toggle('sidebar-hidden');
      classIcon.classList.toggle('sidebar-hidden');
      buckets.classList.toggle('sidebar-hidden');
      formContainer.classList.toggle('sidebar-hidden');
    } 

    document.getElementById("printButton").addEventListener("click", function () {
        // Get the content to be included in the PDF
        const content = document.querySelector(".main-container");

        // Use html2pdf to generate the PDF
        html2pdf(content, {
          margin: 10,
          filename: "student_development_data.pdf",
          image: { type: "jpeg", quality: 0.98 },
          html2canvas: { scale: 2 },
          jsPDF: { unit: "mm", format: "a4", orientation: "portrait" },
          pagebreak: { mode: ['avoid-all'] }, // Avoid page breaks within elements
          table: { fontSize: 10, autoSize: true }
        });
      });
  </script>
</body>
</html>